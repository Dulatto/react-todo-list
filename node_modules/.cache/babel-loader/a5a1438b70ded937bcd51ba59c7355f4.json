{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Dulat\\\\Desktop\\\\todo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AppHeader from'../app-header';import SearchPanel from'../search-panel';import TodoList from'../todo-list';import ItemStatusFilter from'../item-status-filter';import ItemAddForm from'../item-add-form';import'./app.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.maxId=100;_this.state={todoData:[_this.createTodoItem('Drink Coffee'),_this.createTodoItem('Make Awesome App'),_this.createTodoItem('Have a lunch')],term:'',filter:'all'};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.addItem=function(text){//generate id\nvar newItem=_this.createTodoItem(text);//add element in array\n_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[].concat(_toConsumableArray(todoData),[newItem]);return{todoData:newArr};});};_this.onToggleDone=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;return{todoData:_this.toggleProperty(todoData,id,'done')};});};_this.onToggleImportant=function(id){_this.setState(function(_ref4){var todoData=_ref4.todoData;return{todoData:_this.toggleProperty(todoData,id,'important')};});};_this.onSearchChange=function(term){_this.setState({term:term});};_this.onFilterChange=function(filter){_this.setState({filter:filter});};return _this;}_createClass(App,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,important:false,done:false,id:this.maxId++};}},{key:\"toggleProperty\",value:function toggleProperty(arr,id,propName){var idx=arr.findIndex(function(el){return el.id===id;});//1.update object \nvar oldItem=arr[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},_defineProperty({},propName,!oldItem[propName]));//2.construct new array\nreturn[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)));}},{key:\"search\",value:function search(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.toLowerCase().indexOf(term.toLowerCase())>-1;});}},{key:\"filter\",value:function filter(items,_filter){switch(_filter){case'all':return items;case'active':return items.filter(function(item){return!item.done;});case'done':return items.filter(function(item){return item.done;});default:return items;}}},{key:\"render\",value:function render(){var _this$state=this.state,todoData=_this$state.todoData,term=_this$state.term,filter=_this$state.filter;var visibleItems=this.filter(this.search(todoData,term),filter);var doneCount=todoData.filter(function(el){return el.done;}).length;var todoCount=todoData.length-doneCount;return/*#__PURE__*/React.createElement(\"div\",{className:\"todo-app\"},/*#__PURE__*/React.createElement(AppHeader,{toDo:todoCount,done:doneCount}),/*#__PURE__*/React.createElement(\"div\",{className:\"top-panel d-flex\"},/*#__PURE__*/React.createElement(SearchPanel,{onSearchChange:this.onSearchChange}),/*#__PURE__*/React.createElement(ItemStatusFilter,{filter:filter,onFilterChange:this.onFilterChange})),/*#__PURE__*/React.createElement(TodoList,{todos:visibleItems,onDeleted:this.deleteItem,onToggleImportant:this.onToggleImportant,onToggleDone:this.onToggleDone}),/*#__PURE__*/React.createElement(ItemAddForm,{onItemAdded:this.addItem}));}}]);return App;}(Component);export{App as default};;","map":{"version":3,"sources":["C:/Users/Dulat/Desktop/todo/src/components/app/app.js"],"names":["React","Component","AppHeader","SearchPanel","TodoList","ItemStatusFilter","ItemAddForm","App","maxId","state","todoData","createTodoItem","term","filter","deleteItem","id","setState","idx","findIndex","el","newArray","slice","addItem","text","newItem","newArr","onToggleDone","toggleProperty","onToggleImportant","onSearchChange","onFilterChange","label","important","done","arr","propName","oldItem","items","length","item","toLowerCase","indexOf","visibleItems","search","doneCount","todoCount"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport AppHeader from '../app-header';\r\nimport SearchPanel from '../search-panel';\r\nimport TodoList from '../todo-list';\r\nimport ItemStatusFilter from '../item-status-filter';\r\nimport ItemAddForm from '../item-add-form';\r\nimport './app.css';\r\n\r\n\r\n\r\nexport default class App extends Component  {\r\n      \r\n    maxId = 100;\r\n\r\n    state = {\r\n      todoData: [\r\n        this.createTodoItem('Drink Coffee'),\r\n        this.createTodoItem('Make Awesome App'),\r\n        this.createTodoItem('Have a lunch'),\r\n     ],\r\n     term:'',\r\n     filter: 'all', \r\n    };\r\n\r\n    createTodoItem(label){\r\n      return {\r\n        label,\r\n        important: false,\r\n        done:false,\r\n        id: this.maxId++ \r\n      }\r\n    }\r\n\r\n    deleteItem = (id) =>{\r\n      this.setState(({todoData}) =>{\r\n         const idx = todoData.findIndex((el) => el.id === id);\r\n           \r\n\r\n         const newArray = [\r\n           ...todoData.slice(0, idx),\r\n           ...todoData.slice(idx + 1)\r\n          ];\r\n         return{\r\n           todoData: newArray\r\n         }; \r\n      });\r\n    };\r\n\r\n   addItem = (text) => {\r\n       //generate id\r\n        const newItem = this.createTodoItem(text);\r\n       //add element in array\r\n       this.setState(({todoData}) => {\r\n           const newArr = [\r\n             ...todoData,\r\n             newItem\r\n           ];\r\n           return {\r\n             todoData:newArr\r\n           };\r\n       });\r\n   };\r\n\r\n  toggleProperty (arr, id, propName){\r\n    const idx = arr.findIndex((el) => el.id === id);\r\n    //1.update object \r\n const oldItem = arr[idx];\r\n const newItem = {...oldItem, [propName]: !oldItem[propName]};       \r\n  //2.construct new array\r\n  return [\r\n   ...arr.slice(0, idx),\r\n   newItem,\r\n   ...arr.slice(idx + 1)\r\n  ];\r\n}\r\n\r\n   onToggleDone = (id) => {\r\n     this.setState(({ todoData }) => {\r\n        return{\r\n         todoData: this.toggleProperty (todoData, id, 'done')\r\n       };\r\n     });    \r\n   };\r\n\r\n   onToggleImportant = (id) => {\r\n    this.setState(({todoData}) => {\r\n      return{\r\n       todoData: this.toggleProperty (todoData, id, 'important')\r\n     };\r\n   }); \r\n   };\r\n\r\n   onSearchChange =(term) => {\r\n     this.setState({term});\r\n   };\r\n\r\n   onFilterChange =(filter) => {\r\n    this.setState({filter});\r\n  };\r\n\r\n  search(items, term){\r\n    if (term.length === 0){\r\n      return items;\r\n    }\r\n   return items.filter((item) => {\r\n      return item.label.toLowerCase().indexOf(term.toLowerCase()) > -1;\r\n    });\r\n  }\r\n\r\n  filter (items, filter) {\r\n    switch(filter) {\r\n      case 'all':\r\n        return items;\r\n      case 'active':\r\n        return items.filter((item) => !item.done);\r\n      case 'done':\r\n        return items.filter((item) => item.done);\r\n      default:\r\n        return items;\r\n    }\r\n  }\r\n\r\n      render(){\r\n\r\n        const {todoData, term, filter} = this.state;\r\n        const visibleItems = this.filter(\r\n          this.search(todoData, term), filter);\r\n\r\n         const doneCount = todoData.filter((el) => el.done).length;\r\n         const todoCount = todoData.length - doneCount;\r\n\r\n        return (\r\n          <div className=\"todo-app\">\r\n          <AppHeader toDo={todoCount} done={doneCount} />\r\n          <div className=\"top-panel d-flex\">\r\n            <SearchPanel\r\n            onSearchChange={this.onSearchChange} />\r\n            <ItemStatusFilter filter={filter}\r\n            onFilterChange={this.onFilterChange} />\r\n          </div>\r\n    \r\n          <TodoList \r\n             todos={visibleItems}\r\n             onDeleted={this.deleteItem}\r\n             onToggleImportant={this.onToggleImportant} \r\n             onToggleDone={this.onToggleDone}/>\r\n\r\n             <ItemAddForm onItemAdded={this.addItem }/>\r\n        </div>\r\n      );\r\n      }    \r\n  };\r\n\r\n"]},"metadata":{},"sourceType":"module"}